parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Ql5j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.r=v,exports.w=I,exports.u=exports.i=exports.a=void 0;const e=(e,t)=>t.some(t=>e instanceof t);let t,r;function n(){return t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o(){return r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}exports.i=e;const s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;function p(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(I(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&s.set(t,e)}).catch(()=>{}),u.set(t,e),t}function f(e){if(i.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});i.set(e,t)}exports.a=u;let d={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return I(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function v(e){d=e(d)}function D(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?o().includes(e)?function(...t){return e.apply(B(this),t),I(s.get(this))}:function(...t){return I(e.apply(B(this),t))}:function(t,...r){const n=e.call(B(this),t,...r);return a.set(n,t.sort?t.sort():[t]),I(n)}}function m(t){return"function"==typeof t?D(t):(t instanceof IDBTransaction&&f(t),e(t,n())?new Proxy(t,d):t)}function I(e){if(e instanceof IDBRequest)return p(e);if(c.has(e))return c.get(e);const t=m(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const B=e=>u.get(e);exports.u=B;
},{}],"sI9i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteDB=n,exports.openDB=t,Object.defineProperty(exports,"unwrap",{enumerable:!0,get:function(){return e.u}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return e.w}});var e=require("./wrap-idb-value.js");function t(t,n,{blocked:r,upgrade:o,blocking:d,terminated:i}={}){const s=indexedDB.open(t,n),a=(0,e.w)(s);return o&&s.addEventListener("upgradeneeded",t=>{o((0,e.w)(s.result),t.oldVersion,t.newVersion,(0,e.w)(s.transaction))}),r&&s.addEventListener("blocked",()=>r()),a.then(e=>{i&&e.addEventListener("close",()=>i()),d&&e.addEventListener("versionchange",()=>d())}).catch(()=>{}),a}function n(t,{blocked:n}={}){const r=indexedDB.deleteDatabase(t);return n&&r.addEventListener("blocked",()=>n()),(0,e.w)(r).then(()=>void 0)}const r=["get","getKey","getAll","getAllKeys","count"],o=["put","add","delete","clear"],d=new Map;function i(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(d.get(t))return d.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=o.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!r.includes(n))return;const a=async function(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),s&&r.done]))[0]};return d.set(t,a),a}(0,e.r)(e=>({...e,get:(t,n,r)=>i(t,n)||e.get(t,n,r),has:(t,n)=>!!i(t,n)||e.has(t,n)}));
},{"./wrap-idb-value.js":"Ql5j"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("idb");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}var r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,a=navigator.userAgent.match(/msie\s+(\d+?).\d/i),s=!1;if(null!=a){var c=parseInt(a[1]);c<10&&(s=!0)}function i(t,e,n){var o=new Request(t),r=[];return caches.match(o).then(function(t){return null==t?fetch(o).then(function(t){return r.push(t),t.clone()}):(r.push(t),t.clone())}).then(function(t){return r.push(t),caches.open("__YOTEST_ASSETS__")}).then(function(t){return t.put(o,r[0])}).then(function(){return r[1].text()}).then(function(t){Function(t).call(window),n(YoTest)}).catch(function(){e()})}function l(e,n,o){var r=(0,t.openDB)("__YOTEST_ASSETS__",1,{upgrade:function(t){t.createObjectStore("Assets",{keyPath:"id",autoIncrement:!0}).createIndex("URLIndex",["url"])}}),a=null,s=null,c=null;return r.then(function(t){return console.time("x"),a=t,s=t.transaction("Assets","readwrite"),s.store.index("URLIndex").get([e])}).then(function(t){return c=t,s.done}).then(function(){if(null==c)return fetch(e).then(function(t){return t.text()})}).then(function(t){if(null==c)return(s=a.transaction("Assets","readwrite")).store.add({url:e,text:t}).then(function(){return t})}).then(function(){Function(c.text).call(window),o(YoTest)}).catch(function(){n()}).then(function(){return console.timeEnd("x"),s&&s.done})}function u(t){var e=new(s?XDomainRequest:XMLHttpRequest);e.open("get","".concat(location.protocol,"//api.fastyotest.com/api/init")),e.onload=function(){var n=e.response||e.responseText;try{n=JSON.parse(n)}catch(o){}finally{"function"==typeof t&&t(null,n)}},e.onerror=function(){t(e.status||e.readyState)},e.send(null)}function d(t,e){var n=function(){var n=document.createElement("script");n.onload=n.error=function(){document.body.removeChild(n),n=null,e(YoTest)},n.src=t,document.body.appendChild(n)};window.fetch&&window.Request&&window.caches&&caches.open&&caches.match?i(t,n,e):window.fetch&&r?l(t,n,e):n()}var h=function(){function t(n){var o=n.platform,r=n.accessId,a=n.product,s=n.area,c=n.bgColor,i=n.enforced,l=void 0!==i&&i;e(this,t),this.captcha=null,this.platform=o,this.accessId=r,this.product=a,this.area=s,this.bgColor=c,this.enforced=l,this.onready=null,this.onsuccess=null,this.onerror=null,this.onclose=null,"bind"===a&&this.appendTo("#"+Date.now())}return o(t,[{key:"appendTo",value:function(t){var e=this;return"bind"!==this.product&&this.attachLoading(t),u(function(n,o){if(null==n){var r=o.code,a=o.data;200===r&&d(a.lib,function(n){null!=n&&n({accessId:e.accessId,platform:e.platform||"web",product:e.product,area:e.area,bgColor:e.bgColor,enforced:e.enforced},a,function(n){e.captcha=n,e.captcha.onReady(e.onready),e.captcha.onSuccess(e.onsuccess),e.captcha.onError(e.onerror),e.captcha.onClose(e.onclose),e.captcha.appendTo(t)})})}}),this}},{key:"getValidate",value:function(){return this.captcha?this.captcha.getValidate():this}},{key:"reset",value:function(){return this.captcha&&this.captcha.reset(),this}},{key:"verify",value:function(){return this.captcha&&this.captcha.verify(),this}},{key:"onReady",value:function(t){return this.onready=t,this.captcha&&this.captcha.onReady(t),this}},{key:"onSuccess",value:function(t){return this.onsuccess=t,this.captcha&&this.captcha.onSuccess(t),this}},{key:"onError",value:function(t){return this.onerror=t,this.captcha&&this.captcha.onError(t),this}},{key:"onClose",value:function(t){return this.onclose=t,this.captcha&&this.captcha.onClose(t),this}},{key:"destroy",value:function(){return this.captcha&&this.captcha.destroy(),this}},{key:"attachLoading",value:function(t){var e=document.querySelector(t);if(null==e)throw new Error("can't find element with ".concat(t));var n=e.getBoundingClientRect().width/300*16,o=document.createElement("div");o.style.width="100%",o.style.height="100%",o.style.cursor="default",o.style.position="relative",o.style.webkitTextSizeAdjust="none",o.style.webkitFontSmoothing="antialiased",o.style.fontFamily="-apple-system, BlinkMacSystemFont, Droid Sans, PingFang SC, Helvetica, sans-serif",n<12&&(o.style.webkitTransform="scale("+n/12+")",o.style.msTransform="scale("+n/12+")",o.style.mozTransform="scale("+n/12+")",o.style.transform="scale("+n/12+")");var r=document.createElement("div");r.style.width=18.625*n+"px",r.style.height=2.375*n+"px",r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style.webkitTransform="translate(-50%, -50%)",r.style.mozTransform="translate(-50%, -50%)",r.style.msTransform="translate(-50%, -50%)",r.style.transform="translate(-50%, -50%)",r.style.background="white",r.style.backgroundImage="linear-gradient(to bottom, #ffffff, #f2f2f2)",r.style.borderTop="1px solid #eff0f3",r.style.borderLeft="1px solid #eaebf0",r.style.borderBottom="1px solid #d8d9de",r.style.borderRight="1px solid #d1d2d7",r.style.borderRadius="4px",r.style.boxSizing="border-box",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center";var a=document.createElement("p");a.style.width="100%",a.style.height="100%",a.style.lineHeight=r.style.height,a.style.padding=0,a.style.margin=0,a.style.textAlign="center",a.style.color="#828386",a.style.fontSize="16px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.innerHTML="友验组件初始化中",e.innerHTML="",r.appendChild(a),o.appendChild(r),e.appendChild(o)}}]),t}(),f=function(t,e){var n=t.platform,o=void 0===n?"web":n,r=t.accessId,a=t.product,s=void 0===a?"float":a,c=t.area,i=t.bgColor,l=t.enforced,u=new h({platform:o,accessId:r,product:s,area:c,bgColor:i,enforced:l});return"function"==typeof e&&e(u),u};exports.default=f;
},{"idb":"sI9i"}]},{},["Focm"], "initYoTest")